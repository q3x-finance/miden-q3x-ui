"use client";

import { deployAccount } from "@/services/utils/account";
import {
  Account,
  AccountId,
  Felt,
  NoteId,
  NoteIdAndArgs,
  NoteIdAndArgsArray,
  RpoDigest,
  TransactionRequestBuilder,
} from "@demox-labs/miden-sdk";
import React, { useEffect, useState } from "react";
import toast from "react-hot-toast";
import Send from "./components/Send";
import Faucet from "./components/Faucet";
import { Faucet as FaucetType } from "./types";
import Notes from "./components/Notes";
import Portfolio from "./components/Portfolio";
import { consumePrivateNote } from "@/services/utils/note";
import { useClient } from "@/hooks/web3/useClient";
import { useWallet } from "@demox-labs/miden-wallet-adapter-react";
import { TransactionType } from "@demox-labs/miden-wallet-adapter-base";

const Debug = () => {
  const { getClient } = useClient();
  const { requestTransaction } = useWallet();

  const [allAccounts, setAllAccounts] = useState<any[]>([]);
  const [localStorageAccounts, setLocalStorageAccounts] = useState<any[]>([]);
  const [deployedFaucets, setDeployedFaucets] = useState<FaucetType[]>([]);
  const [consumableNotes, setConsumableNotes] = useState<any[]>([]);
  const [isClient, setIsClient] = useState(false);
  useEffect(() => {
    setIsClient(true);
    const savedAccounts = localStorage.getItem("deployedAccounts");
    const savedFaucets = localStorage.getItem("deployedFaucets");

    if (savedAccounts) setLocalStorageAccounts(JSON.parse(savedAccounts));
    if (savedFaucets) setDeployedFaucets(JSON.parse(savedFaucets));
  }, []);

  useEffect(() => {
    if (isClient) {
      localStorage.setItem("deployedFaucets", JSON.stringify(deployedFaucets));
    }
  }, [deployedFaucets, isClient]);

  const handleDeployAccount = async () => {
    try {
      toast.loading("Deploying account...");
      const account = await deployAccount(true);

      setAllAccounts([...allAccounts, account]);

      localStorage.setItem(
        "deployedAccounts",
        JSON.stringify(
          [...allAccounts, account].map((account) => ({
            id: account.id().toString(),
          }))
        )
      );

      toast.dismiss();
      toast.success(`Account deployed: ${account.id}`);
    } catch (error) {
      toast.dismiss();
      console.error("Error deploying account:", error);
      toast.error("Error deploying account");
    }
  };

  // assetCommitmentDigest
  // 0xcb53db6180be35ba49ea1bbaa1053569d0e6ef8bdcbfe0f31e81d852d9c0297d

  // recipientDigests
  // 0x9a114c6054319731fa31c9f9346f17b4c0b310b0a5facbd05fa96ef7b4c73682

  const handleConsumePrivateNote = async () => {
    try {
      // note id: 0xa24a7a69e8d64309ac4aa40011ada29550039753308e392eeaa6357debbdfe8a
      toast.loading("Consuming private note...");
      const client = await getClient();

      // import note
      const importedNote = (await client.importNote([
        110,
        111,
        116,
        101,
        2,
        16,
        151,
        33,
        85,
        28,
        235,
        18,
        146,
        129,
        134,
        133,
        118,
        194,
        157,
        0,
        0,
        0,
        0,
        132,
        228,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        59,
        3,
        126,
        62,
        130,
        152,
        239,
        32,
        0,
        6,
        170,
        254,
        121,
        226,
        50,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        77,
        65,
        83,
        84,
        0,
        0,
        0,
        0,
        53,
        1,
        5,
        14,
        0,
        0,
        0,
        25,
        0,
        0,
        0,
        231,
        3,
        48,
        27,
        91,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        35,
        50,
        34,
        48,
        48,
        48,
        48,
        18,
        49,
        55,
        33,
        5,
        35,
        49,
        19,
        44,
        48,
        48,
        48,
        48,
        24,
        48,
        48,
        48,
        48,
        48,
        48,
        48,
        48,
        30,
        39,
        41,
        41,
        41,
        41,
        41,
        41,
        41,
        41,
        41,
        41,
        41,
        41,
        16,
        91,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        34,
        49,
        55,
        33,
        5,
        13,
        41,
        41,
        41,
        41,
        41,
        41,
        23,
        91,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        33,
        32,
        9,
        127,
        122,
        16,
        184,
        3,
        135,
        121,
        48,
        48,
        48,
        48,
        16,
        44,
        41,
        41,
        3,
        32,
        57,
        224,
        97,
        252,
        48,
        86,
        206,
        232,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        128,
        118,
        196,
        219,
        138,
        51,
        253,
        118,
        149,
        117,
        254,
        130,
        69,
        155,
        129,
        136,
        173,
        150,
        57,
        172,
        213,
        24,
        25,
        171,
        207,
        39,
        92,
        81,
        36,
        156,
        211,
        162,
        11,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        48,
        217,
        230,
        167,
        8,
        125,
        139,
        191,
        250,
        240,
        119,
        207,
        208,
        14,
        242,
        180,
        237,
        236,
        65,
        133,
        245,
        185,
        200,
        88,
        113,
        241,
        129,
        45,
        139,
        232,
        170,
        172,
        84,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        48,
        102,
        102,
        125,
        68,
        107,
        192,
        68,
        70,
        199,
        31,
        246,
        80,
        101,
        177,
        34,
        54,
        82,
        125,
        109,
        250,
        136,
        43,
        35,
        237,
        49,
        180,
        33,
        234,
        23,
        111,
        32,
        36,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        128,
        152,
        55,
        246,
        204,
        194,
        110,
        207,
        54,
        106,
        39,
        188,
        189,
        7,
        152,
        115,
        145,
        128,
        2,
        200,
        101,
        253,
        50,
        229,
        135,
        182,
        134,
        106,
        35,
        81,
        181,
        92,
        232,
        3,
        0,
        0,
        0,
        0,
        0,
        0,
        64,
        184,
        82,
        162,
        1,
        156,
        37,
        139,
        141,
        140,
        74,
        212,
        83,
        182,
        195,
        205,
        137,
        244,
        246,
        79,
        186,
        191,
        23,
        106,
        241,
        115,
        111,
        49,
        31,
        122,
        103,
        21,
        231,
        24,
        0,
        0,
        0,
        0,
        0,
        0,
        48,
        201,
        145,
        157,
        152,
        224,
        177,
        187,
        245,
        153,
        115,
        218,
        254,
        11,
        249,
        52,
        194,
        64,
        236,
        90,
        25,
        158,
        154,
        101,
        32,
        80,
        198,
        110,
        123,
        237,
        96,
        180,
        134,
        42,
        0,
        0,
        0,
        0,
        0,
        0,
        48,
        204,
        141,
        79,
        140,
        161,
        16,
        117,
        83,
        154,
        33,
        125,
        165,
        118,
        29,
        79,
        27,
        92,
        162,
        238,
        175,
        214,
        111,
        106,
        87,
        110,
        36,
        253,
        250,
        148,
        208,
        120,
        28,
        4,
        0,
        0,
        64,
        1,
        0,
        0,
        0,
        173,
        105,
        229,
        226,
        208,
        227,
        141,
        152,
        108,
        195,
        239,
        189,
        134,
        60,
        165,
        225,
        175,
        131,
        164,
        229,
        187,
        30,
        40,
        131,
        187,
        74,
        247,
        247,
        245,
        191,
        143,
        38,
        6,
        0,
        0,
        192,
        1,
        0,
        0,
        0,
        184,
        146,
        99,
        92,
        93,
        250,
        88,
        4,
        202,
        215,
        230,
        158,
        100,
        63,
        234,
        166,
        198,
        39,
        95,
        245,
        232,
        228,
        98,
        110,
        146,
        134,
        6,
        4,
        45,
        5,
        2,
        95,
        8,
        0,
        0,
        0,
        0,
        0,
        0,
        32,
        183,
        200,
        58,
        150,
        146,
        150,
        141,
        129,
        238,
        29,
        9,
        149,
        66,
        170,
        160,
        237,
        50,
        146,
        213,
        67,
        227,
        29,
        6,
        185,
        192,
        31,
        251,
        98,
        215,
        212,
        202,
        119,
        70,
        0,
        0,
        0,
        0,
        0,
        0,
        48,
        120,
        250,
        116,
        74,
        172,
        194,
        243,
        219,
        252,
        212,
        209,
        58,
        141,
        166,
        208,
        8,
        210,
        124,
        190,
        230,
        133,
        238,
        169,
        172,
        27,
        64,
        181,
        152,
        211,
        129,
        144,
        166,
        0,
        0,
        0,
        64,
        0,
        0,
        0,
        0,
        169,
        139,
        33,
        114,
        115,
        234,
        25,
        35,
        9,
        107,
        193,
        45,
        240,
        239,
        155,
        107,
        182,
        204,
        185,
        211,
        239,
        75,
        15,
        23,
        140,
        116,
        40,
        123,
        192,
        111,
        104,
        94,
        9,
        0,
        0,
        128,
        0,
        0,
        0,
        0,
        66,
        143,
        13,
        115,
        155,
        86,
        5,
        86,
        92,
        214,
        205,
        159,
        132,
        194,
        133,
        29,
        230,
        79,
        103,
        50,
        226,
        116,
        21,
        94,
        75,
        0,
        204,
        56,
        73,
        141,
        243,
        42,
        12,
        0,
        0,
        192,
        2,
        0,
        0,
        0,
        130,
        132,
        15,
        8,
        254,
        78,
        167,
        1,
        0,
        45,
        52,
        194,
        6,
        224,
        104,
        178,
        142,
        34,
        223,
        150,
        129,
        197,
        23,
        241,
        0,
        13,
        52,
        52,
        192,
        168,
        100,
        196,
        10,
        0,
        0,
        64,
        3,
        0,
        0,
        0,
        223,
        189,
        24,
        82,
        234,
        62,
        84,
        4,
        13,
        144,
        118,
        54,
        211,
        131,
        101,
        154,
        56,
        85,
        13,
        235,
        235,
        36,
        148,
        151,
        233,
        90,
        112,
        199,
        222,
        210,
        101,
        116,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        128,
        147,
        58,
        80,
        52,
        130,
        228,
        164,
        78,
        144,
        126,
        81,
        57,
        69,
        209,
        51,
        82,
        45,
        13,
        48,
        49,
        212,
        169,
        226,
        189,
        102,
        212,
        2,
        122,
        43,
        1,
        233,
        145,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        128,
        38,
        130,
        149,
        151,
        241,
        35,
        191,
        24,
        61,
        76,
        210,
        47,
        8,
        107,
        186,
        81,
        160,
        114,
        154,
        143,
        169,
        175,
        186,
        193,
        232,
        123,
        236,
        125,
        211,
        91,
        227,
        107,
        77,
        0,
        0,
        0,
        0,
        0,
        0,
        48,
        67,
        18,
        130,
        171,
        47,
        93,
        251,
        76,
        174,
        241,
        89,
        15,
        53,
        68,
        150,
        163,
        67,
        63,
        129,
        22,
        98,
        229,
        99,
        238,
        96,
        102,
        139,
        125,
        156,
        139,
        215,
        137,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        128,
        111,
        156,
        207,
        242,
        132,
        17,
        174,
        255,
        78,
        33,
        9,
        131,
        40,
        223,
        60,
        66,
        113,
        220,
        136,
        82,
        113,
        173,
        10,
        66,
        221,
        91,
        0,
        207,
        81,
        45,
        68,
        220,
        105,
        0,
        0,
        0,
        0,
        0,
        0,
        48,
        24,
        88,
        236,
        46,
        106,
        189,
        241,
        209,
        68,
        116,
        116,
        229,
        171,
        142,
        19,
        19,
        196,
        249,
        50,
        118,
        232,
        47,
        59,
        170,
        201,
        160,
        86,
        214,
        236,
        220,
        12,
        155,
        15,
        0,
        0,
        64,
        0,
        0,
        0,
        0,
        120,
        176,
        106,
        2,
        212,
        25,
        132,
        181,
        174,
        126,
        47,
        30,
        0,
        146,
        142,
        211,
        163,
        104,
        153,
        65,
        134,
        166,
        117,
        240,
        243,
        240,
        151,
        74,
        42,
        185,
        181,
        111,
        16,
        0,
        0,
        64,
        4,
        0,
        0,
        0,
        116,
        235,
        200,
        191,
        209,
        113,
        156,
        33,
        43,
        169,
        189,
        153,
        187,
        34,
        27,
        0,
        225,
        30,
        188,
        238,
        59,
        169,
        221,
        140,
        194,
        220,
        213,
        18,
        221,
        175,
        145,
        78,
        19,
        0,
        0,
        128,
        4,
        0,
        0,
        0,
        114,
        71,
        225,
        194,
        75,
        69,
        152,
        33,
        245,
        87,
        67,
        56,
        254,
        79,
        67,
        13,
        64,
        62,
        17,
        166,
        42,
        211,
        251,
        41,
        110,
        197,
        81,
        223,
        159,
        110,
        133,
        36,
        21,
        0,
        0,
        0,
        5,
        0,
        0,
        0,
        41,
        224,
        210,
        190,
        18,
        196,
        191,
        114,
        14,
        251,
        106,
        219,
        255,
        196,
        237,
        204,
        222,
        181,
        192,
        86,
        126,
        252,
        174,
        176,
        141,
        123,
        53,
        179,
        79,
        43,
        96,
        124,
        14,
        0,
        0,
        128,
        5,
        0,
        0,
        0,
        100,
        100,
        188,
        179,
        188,
        173,
        148,
        14,
        54,
        237,
        134,
        21,
        231,
        147,
        148,
        80,
        172,
        28,
        101,
        126,
        71,
        30,
        125,
        199,
        92,
        114,
        69,
        155,
        217,
        169,
        117,
        168,
        24,
        0,
        0,
        192,
        5,
        0,
        0,
        0,
        46,
        126,
        163,
        233,
        145,
        144,
        248,
        234,
        147,
        159,
        91,
        244,
        13,
        70,
        77,
        115,
        211,
        14,
        185,
        51,
        204,
        222,
        228,
        185,
        217,
        208,
        214,
        135,
        212,
        14,
        15,
        183,
        1,
        5,
        9,
        127,
        122,
        16,
        184,
        3,
        135,
        121,
        83,
        80,
        50,
        73,
        68,
        32,
        115,
        99,
        114,
        105,
        112,
        116,
        32,
        101,
        120,
        112,
        101,
        99,
        116,
        115,
        32,
        101,
        120,
        97,
        99,
        116,
        108,
        121,
        32,
        50,
        32,
        110,
        111,
        116,
        101,
        32,
        105,
        110,
        112,
        117,
        116,
        115,
        57,
        224,
        97,
        252,
        48,
        86,
        206,
        232,
        133,
        80,
        50,
        73,
        68,
        39,
        115,
        32,
        116,
        97,
        114,
        103,
        101,
        116,
        32,
        97,
        99,
        99,
        111,
        117,
        110,
        116,
        32,
        97,
        100,
        100,
        114,
        101,
        115,
        115,
        32,
        97,
        110,
        100,
        32,
        116,
        114,
        97,
        110,
        115,
        97,
        99,
        116,
        105,
        111,
        110,
        32,
        97,
        100,
        100,
        114,
        101,
        115,
        115,
        32,
        100,
        111,
        32,
        110,
        111,
        116,
        32,
        109,
        97,
        116,
        99,
        104,
        1,
        1,
        1,
        15,
        3,
        1,
        5,
        1,
        11,
        1,
        13,
        1,
        21,
        1,
        35,
        1,
        39,
        1,
        1,
        1,
        25,
        0,
        0,
        0,
        2,
        0,
        134,
        133,
        118,
        194,
        157,
        0,
        0,
        16,
        151,
        33,
        85,
        28,
        235,
        18,
        146,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        3,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        109,
        226,
        6,
        0,
        0,
        0,
        16,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        240,
        219,
        57,
        36,
        243,
        226,
        214,
        119,
        165,
        25,
        36,
        176,
        158,
        206,
        248,
        161,
        36,
        22,
        166,
        206,
        176,
        159,
        173,
        211,
        151,
        133,
        187,
        79,
        104,
        92,
        171,
        102,
        95,
        165,
        196,
        5,
        28,
        147,
        97,
        252,
        169,
        80,
        38,
        55,
        226,
        108,
        255,
        12,
        198,
        146,
        220,
        244,
        47,
        195,
        230,
        6,
        157,
        64,
        14,
        75,
        192,
        216,
        114,
        27,
        194,
        81,
        227,
        69,
        30,
        173,
        197,
        205,
        166,
        202,
        68,
        114,
        128,
        6,
        11,
        240,
        125,
        225,
        167,
        201,
        149,
        20,
        176,
        187,
        63,
        167,
        86,
        230,
        247,
        77,
        97,
        217,
        58,
        110,
        203,
        37,
        96,
        141,
        74,
        13,
        33,
        63,
        24,
        126,
        39,
        129,
        209,
        216,
        211,
        17,
        222,
        24,
        86,
        114,
        249,
        59,
        110,
        200,
        217,
        167,
        181,
        14,
        106,
        178,
        79,
        115,
        119,
        30,
        68,
        181,
        86,
        21,
        51,
        162,
        34,
        40,
        75,
        175,
        206,
        162,
        12,
        224,
        83,
        213,
        121,
        238,
        229,
        65,
        242,
        105,
        122,
        214,
        79,
        192,
        205,
        242,
        56,
        67,
        59,
        37,
        2,
        251,
        135,
        25,
        190,
        41,
        179,
        86,
        168,
        227,
        193,
        167,
        232,
        83,
        85,
        48,
        253,
        222,
        144,
        141,
        77,
        201,
        38,
        117,
        47,
        238,
        50,
        177,
        125,
        139,
        165,
        120,
        80,
        129,
        236,
        239,
        61,
        138,
        43,
        174,
        136,
        189,
        2,
        45,
        10,
        198,
        170,
        94,
        17,
        238,
        61,
        123,
        173,
        255,
        0,
        154,
        160,
        157,
        101,
        142,
        76,
        146,
        98,
        139,
        198,
        27,
        245,
        165,
        135,
        159,
        81,
        139,
        11,
        45,
        24,
        84,
        165,
        80,
        173,
        226,
        96,
        39,
        180,
        21,
        136,
        103,
        4,
        174,
        76,
        213,
        178,
        3,
        135,
        241,
        251,
        13,
        95,
        154,
        60,
        17,
        153,
        214,
        243,
        70,
        156,
        220,
        242,
        119,
        244,
        248,
        80,
        201,
        52,
        45,
        217,
        195,
        182,
        242,
        218,
        255,
        247,
        170,
        198,
        156,
        126,
        153,
        28,
        171,
        99,
        83,
        200,
        151,
        179,
        65,
        11,
        171,
        204,
        216,
        92,
        169,
        11,
        71,
        128,
        54,
        188,
        126,
        139,
        185,
        169,
        25,
        15,
        100,
        19,
        27,
        254,
        34,
        236,
        127,
        24,
        52,
        230,
        226,
        49,
        10,
        177,
        228,
        87,
        36,
        193,
        25,
        192,
        164,
        180,
        198,
        94,
        167,
        39,
        222,
        185,
        167,
        100,
        129,
        33,
        107,
        183,
        172,
        11,
        153,
        138,
        203,
        113,
        240,
        46,
        186,
        79,
        110,
        229,
        160,
        197,
        77,
        129,
        21,
        196,
        119,
        177,
        75,
        166,
        68,
        131,
        44,
        73,
        160,
        229,
        31,
        132,
        188,
        141,
        94,
        221,
        198,
        67,
        170,
        155,
        60,
        97,
        154,
        245,
        72,
        6,
        200,
        210,
        47,
        173,
        229,
        29,
        118,
        143,
        114,
        53,
        158,
        128,
        158,
        185,
        45,
        192,
        237,
        160,
        49,
        193,
        90,
        176,
        56,
        197,
        114,
        81,
        21,
        32,
        19,
        206,
        150,
        186,
        111,
        184,
        90,
        58,
        44,
        98,
        191,
        54,
        72,
        85,
        102,
        18,
        163,
        118,
        88,
        34,
        57,
        150,
        70,
        54,
        253,
        35,
        79,
        3,
        66,
        157,
        211,
        136,
        219,
        228,
        134,
        65,
        135,
        6,
        123,
        163,
        76,
        194,
        129,
        245,
        88,
        202,
        113,
        19,
        210,
        183,
        18,
        176,
        203,
        239,
        34,
        71,
        109,
        84,
        182
    ])) as NoteId;

      // const txRequest = client.newConsumeTransactionRequest([
      //   "0x6e6aae833496a8e4ee7e0de0d206293a2bddae4ad9e4018fc4917f3c91e31c82",
      // ]);
      console.log("IMPORTED NOTE", importedNote);

      const txRequest = new TransactionRequestBuilder()
        .withAuthenticatedInputNotes(new NoteIdAndArgsArray([importedNote]))
        .build();
      const txResult = await client.newTransaction(
        AccountId.fromHex(localStorageAccounts[0].id),
        txRequest
      );
      await client.submitTransaction(txResult);
      toast.dismiss();
      toast.success("Private note consumed");

      toast.success(
        <div>
          <p>Notes consumed successfully</p>
          <a
            href={`https://testnet.midenscan.com/tx/${txResult.executedTransaction().id().toHex()}`}
            target="_blank"
            rel="noopener noreferrer"
            className="text-indigo-500 hover:text-indigo-600 underline mt-1 inline-block"
          >
            View on MidenScan
          </a>
        </div>
      );
    } catch (error) {
      toast.dismiss();
      console.log("CONSUME PRIVATE NOTE ERROR", error);
      toast.error("Error consuming private note");
    }
  };

  const handleWalletSendPrivateNote = async () => {
    try {
      await requestTransaction?.({
        type: TransactionType.Consume,
        payload: {
          faucetId: "0x2f3da6aa8735e7200006e8d6e06a8c",
          noteId:
            "0x22f1141025ecef05b39632ca222544a605ce3515c2790636178794aa32335128",
          noteType: "private",
          amount: 1,
        },
      });
    } catch (error) {}
  };

  return (
    <div>
      <button
        onClick={handleConsumePrivateNote}
        className="px-6 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold shadow-md hover:from-blue-600 hover:to-purple-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-50"
      >
        Consume Private Note
      </button>
      <button
        onClick={handleWalletSendPrivateNote}
        className="px-6 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold shadow-md hover:from-blue-600 hover:to-purple-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-50"
      >
        Consume Private Note from Wallet
      </button>
      {isClient ? (
        <div>
          <button
            onClick={handleDeployAccount}
            className="px-6 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold shadow-md hover:from-blue-600 hover:to-purple-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-50"
          >
            Deploy Account
          </button>
          <div>
            {localStorageAccounts &&
              localStorageAccounts.length > 0 &&
              localStorageAccounts.map((account: any, index: number) => {
                return <div key={index}>{account?.id}</div>;
              })}
          </div>
          <div>
            <Faucet
              selectedAccount={
                localStorageAccounts.length > 0
                  ? localStorageAccounts[0].id
                  : null
              }
              deployedFaucets={deployedFaucets}
              setDeployedFaucets={setDeployedFaucets}
            />
            <Notes
              selectedAccount={
                localStorageAccounts.length > 0
                  ? localStorageAccounts[0].id
                  : null
              }
              consumableNotes={consumableNotes}
              setConsumableNotes={setConsumableNotes}
            />
            <Send
              selectedAccount={
                localStorageAccounts.length > 0
                  ? localStorageAccounts[0].id
                  : null
              }
              deployedFaucets={deployedFaucets}
              addressBook={[]}
            />
            <Portfolio
              selectedAccount={
                localStorageAccounts.length > 0
                  ? localStorageAccounts[0].id
                  : null
              }
            />
          </div>
        </div>
      ) : (
        <div> Loading...</div>
      )}
    </div>
  );
};

export default Debug;
